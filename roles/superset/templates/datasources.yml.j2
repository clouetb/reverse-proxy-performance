databases:
- database_name: logs-httpd@druid
  sqlalchemy_uri: druid://{{ references["druid_vm"].fqdn }}:8888/druid/v2/sql
  tables:
  - columns:
    - column_name: __time
      is_dttm: true
      type: LONG
    - column_name: request_time
      type: FLOAT
    - column_name: http_x_forwarded_for
      type: STRING
    - column_name: upstream_response_time
      type: STRING
    - column_name: http_user_agent
      type: STRING
    - column_name: upstream_addr
      type: STRING
    - column_name: upstream_status
      type: STRING
    - column_name: remote_addr
      type: STRING
    - column_name: server_addr
      type: STRING
    - column_name: request_method
      type: STRING
    - column_name: http_referer
      type: STRING
    - column_name: request_uri
      type: STRING
    - column_name: status
      type: STRING
    - column_name: host
      type: STRING
    - column_name: body_bytes_sent
      type: LONG
    - column_name: count
      type: LONG
    main_dttm_col: __time
    metrics:
    - expression: COUNT(*)
      metric_name: count
      metric_type: count
      verbose_name: COUNT(*)
    schema: druid
    table_name: logs-httpd